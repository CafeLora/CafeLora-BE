(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2aded0a4"],{"0cb2":function(e,t,a){var n=a("e330"),r=a("7b0b"),i=Math.floor,o=n("".charAt),c=n("".replace),s=n("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,a,n,d,f){var b=a+e.length,m=n.length,p=u;return void 0!==d&&(d=r(d),p=l),c(f,p,(function(r,c){var l;switch(o(c,0)){case"$":return"$";case"&":return e;case"`":return s(t,0,a);case"'":return s(t,b);case"<":l=d[s(c,1,-1)];break;default:var u=+c;if(0===u)return r;if(u>m){var f=i(u/10);return 0===f?r:f<=m?void 0===n[f-1]?o(c,1):n[f-1]+o(c,1):r}l=n[u-1]}return void 0===l?"":l}))}},"14c3":function(e,t,a){var n=a("da84"),r=a("c65b"),i=a("825a"),o=a("1626"),c=a("c6b6"),s=a("9263"),l=n.TypeError;e.exports=function(e,t){var a=e.exec;if(o(a)){var n=r(a,e,t);return null!==n&&i(n),n}if("RegExp"===c(e))return r(s,e,t);throw l("RegExp#exec called on incompatible receiver")}},"1fb9":function(e,t,a){},3108:function(e,t,a){"use strict";a.r(t);var n=a("7a23"),r=function(e){return Object(n["J"])("data-v-6c666689"),e=e(),Object(n["H"])(),e},i=r((function(){return Object(n["m"])("i",{class:"fas fa-chevron-left"},null,-1)})),o=Object(n["o"])(" Salir "),c=[i,o],s=r((function(){return Object(n["m"])("br",null,null,-1)})),l={key:0},u=r((function(){return Object(n["m"])("span",null,"Escriba la obra que desea buscar: ",-1)})),d=r((function(){return Object(n["m"])("br",null,null,-1)})),f=r((function(){return Object(n["m"])("br",null,null,-1)})),b=r((function(){return Object(n["m"])("span",null,"Seleccione la lista que desea buscar : ",-1)})),m={key:1},p=r((function(){return Object(n["m"])("span",null,"Escriba el plan que desea buscar: ",-1)})),h=r((function(){return Object(n["m"])("br",null,null,-1)})),v=r((function(){return Object(n["m"])("br",null,null,-1)})),g=r((function(){return Object(n["m"])("span",null,"Seleccione el estado que desea buscar: ",-1)})),O={key:2},j=r((function(){return Object(n["m"])("span",null,"Escriba la evaluación que desea buscar: ",-1)})),y=r((function(){return Object(n["m"])("br",null,null,-1)})),E=r((function(){return Object(n["m"])("br",null,null,-1)})),k=r((function(){return Object(n["m"])("span",null,"Seleccione la lista que desea buscar : ",-1)})),x={key:3},w=r((function(){return Object(n["m"])("span",null,"Escriba la lista que desea buscar: ",-1)})),T=r((function(){return Object(n["m"])("br",null,null,-1)})),S={class:"buttons"};function R(e,t,a,r,i,o){var R=Object(n["O"])("confirmation-modal"),I=Object(n["O"])("modal"),L=Object(n["O"])("a-select-option"),C=Object(n["O"])("a-select"),_=Object(n["O"])("grid");return Object(n["G"])(),Object(n["l"])("div",null,[Object(n["p"])(R,{error:null,show:e.showModalConfirmation,title:e.modalTitle,massiveDelete:e.massiveDelete,onConfirm:e.confirmDelete,onConfirmMassive:e.confirmMassiveDelete,onCancel:e.closeModal},null,8,["show","title","massiveDelete","onConfirm","onConfirmMassive","onCancel"]),Object(n["p"])(I,{show:!!e.message,title:e.message,onClose:e.handleError,error:e.error,loading:e.loading},null,8,["show","title","onClose","error","loading"]),Object(n["m"])("section",{id:"main",class:Object(n["x"])({expand:e.expand})},[Object(n["m"])("h3",{class:"back",onClick:t[0]||(t[0]=function(){return e.goBack&&e.goBack.apply(e,arguments)})},c),Object(n["m"])("h2",null,"REPORTE DE "+Object(n["Q"])(e.calculateReport()),1),s,e.isEvaluaciones?(Object(n["G"])(),Object(n["l"])("span",l,[u,Object(n["ab"])(Object(n["m"])("input",{type:"text",name:"txtobra",id:"txtobra","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.filtro_obra=t})},null,512),[[n["V"],e.filtro_obra]]),d,f,b,Object(n["p"])(C,{"default-value":"TODOS",style:{width:"300px"},onChange:e.changeFiltroListaVerificacion},{default:Object(n["Z"])((function(){return[(Object(n["G"])(!0),Object(n["l"])(n["b"],null,Object(n["M"])(e.itemsListaVerificacion,(function(e,t){return Object(n["G"])(),Object(n["j"])(L,{key:t,value:e.nombre},{default:Object(n["Z"])((function(){return[Object(n["o"])(Object(n["Q"])(e.nombre),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["onChange"])])):Object(n["k"])("",!0),e.isPlantamientos?(Object(n["G"])(),Object(n["l"])("span",m,[p,Object(n["ab"])(Object(n["m"])("input",{type:"text",name:"txtplan",id:"txtplan","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.filtro_plan=t})},null,512),[[n["V"],e.filtro_plan]]),h,v,g,Object(n["p"])(C,{"default-value":"TODOS",style:{width:"300px"},onChange:e.changeFiltroEstado},{default:Object(n["Z"])((function(){return[(Object(n["G"])(!0),Object(n["l"])(n["b"],null,Object(n["M"])(e.itemsEstado,(function(e,t){return Object(n["G"])(),Object(n["j"])(L,{key:t,value:e.nombre},{default:Object(n["Z"])((function(){return[Object(n["o"])(Object(n["Q"])(e.nombre),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["onChange"])])):Object(n["k"])("",!0),e.isRiesgos?(Object(n["G"])(),Object(n["l"])("span",O,[j,Object(n["ab"])(Object(n["m"])("input",{type:"text",name:"txtevaluacion",id:"txtevaluacion","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.filtro_evaluacion=t})},null,512),[[n["V"],e.filtro_evaluacion]]),y,E,k,Object(n["p"])(C,{"default-value":"TODOS",style:{width:"300px"},onChange:e.changeFiltroListaVerificacion},{default:Object(n["Z"])((function(){return[(Object(n["G"])(!0),Object(n["l"])(n["b"],null,Object(n["M"])(e.itemsListaVerificacion,(function(e,t){return Object(n["G"])(),Object(n["j"])(L,{key:t,value:e.nombre},{default:Object(n["Z"])((function(){return[Object(n["o"])(Object(n["Q"])(e.nombre),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["onChange"])])):Object(n["k"])("",!0),e.isListas?(Object(n["G"])(),Object(n["l"])("span",x,[w,Object(n["ab"])(Object(n["m"])("input",{type:"text",name:"txtlistaVerif",id:"txtlistaVerif","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.filtro_listas_verificaciones=t})},null,512),[[n["V"],e.filtro_listas_verificaciones]]),T])):Object(n["k"])("",!0),Object(n["m"])("div",S,[e.isAnalista||e.isJefeRiesgos||e.isEspecialista?(Object(n["G"])(),Object(n["l"])("button",{key:0,class:"action-button",onClick:t[5]||(t[5]=function(t){return e.deleteMassive()})}," Eliminación masiva ")):Object(n["k"])("",!0)]),Object(n["p"])(_,{dataSource:e.dataSource,columns:e.columns,config:e.config,actions:e.actions,rows:5,onMovePage:e.movePage,onSelectedList:e.selectedList},null,8,["dataSource","columns","config","actions","onMovePage","onSelectedList"])],2)])}var I=a("1da1"),L=(a("96cf"),a("ac1f"),a("5319"),a("d3b7"),a("3ca3"),a("ddb0"),a("d81d"),a("99af"),a("9fbc")),C=a("5c40"),_=a("f50d"),D=a("2fc2"),P=a("b7ff"),V=a("705f"),A=a("d43e"),G=a("3e2f"),M="",N=Object(C["s"])({components:{Grid:L["a"],ConfirmationModal:P["a"],Modal:V["a"]},data:function(){return{filtro_obra:"",filtro_lista_verificacion:"",filtro_evaluacion:"",filtro_listas_verificaciones:"",itemsListaVerificacion:[{id:"",nombre:"TODOS"},{id:1,nombre:"ISO 45002"},{id:1,nombre:"LEY Nº 29783  Ley de Seguridad y Salud en el Trabajo"}],itemsEstado:[{id:"",nombre:"TODOS"},{id:1,nombre:"Asignado"},{id:1,nombre:"Sin asignar"}],filtro_plan:"",filtro_estado_plan:"",userInfoJson:Object(A["p"])(),columns:{},dataSource:Object(A["a"])(),isAnalista:!1,isJefeRiesgos:!1,isEvaluaciones:!1,isPlantamientos:!1,isRiesgos:!1,isListas:!1,isEspecialista:!1,config:{deleteEntity:"",entity:D["o"].EVALUACION},actions:[{icon:"fas fa-trash-alt",type:D["d"].DELETE,method:this.delete},{icon:"fas fa-eye",type:D["d"].EDIT,method:this.edit}],modalTitle:"",showModalConfirmation:!1,id:"",entity:"",message:null,loading:!1,error:!1,massiveDelete:!1,expand:!1,url:"",page:1,quantity:5,entityList:[],type:""}},watch:{filtro_obra:function(e){var t=this;e&&(M&&clearTimeout(M),M=setTimeout((function(){t.listEvaluacion()}),500))},filtro_plan:function(e){var t=this;e&&(M&&clearTimeout(M),M=setTimeout((function(){t.listPlanTratamiento()}),500))},filtro_evaluacion:function(e){var t=this;e&&(M&&clearTimeout(M),M=setTimeout((function(){t.listRiesgoNormativa()}),500))},filtro_listas_verificaciones:function(e){var t=this;e&&(M&&clearTimeout(M),M=setTimeout((function(){t.listListaVerificacion()}),500))}},mounted:function(){var e=this;this.type=this.$route.params.type,Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$route.params.type){t.next=6;break}t.t0=e.$route.path,t.next="/dashboard/listas-verificacion"===t.t0?4:6;break;case 4:return e.type="ListasVerificacion",t.abrupt("break",6);case 6:return t.next=8,Object(_["a"])();case 8:e.userInfoJson=t.sent,t.t1=e.type,t.next="ListasVerificacion"===t.t1?12:"PlanesTratamiento"===t.t1?21:"RiesgoNormativa"===t.t1?32:"Evaluacion"===t.t1?40:51;break;case 12:return e.userInfoJson.rol==D["q"].ESPECIALISTA&&(e.isEspecialista=!0),e.isListas=!0,e.columns=D["f"],e.url="listas-verificacion",e.$router.replace(e.url),e.actions=[{icon:"fas fa-trash-alt",type:D["d"].DELETE,method:e.delete},{icon:"fas fa-pen",type:D["d"].EDIT,method:e.edit}],t.next=20,e.listListaVerificacion();case 20:return t.abrupt("break",56);case 21:return e.isPlantamientos=!0,e.columns=D["g"],e.dataSource={listaRecords:G["c"],numeroPaginas:0,totalRecords:0},e.url="/plan-tratamiento/",t.next=27,Object(_["a"])();case 27:return e.userInfoJson=t.sent,e.userInfoJson.rol==D["q"].JEFE_DE_RIESGOS?(e.isJefeRiesgos=!0,e.actions=[{icon:"fas fa-trash-alt",type:D["d"].DELETE,method:e.delete},{icon:"fas fa-eye",type:D["d"].EDIT,method:e.editEvaluaciones}]):e.actions=[{icon:"fas fa-eye",type:D["d"].EDIT,method:e.editEvaluaciones}],t.next=31,e.listPlanTratamiento();case 31:return t.abrupt("break",56);case 32:return e.isRiesgos=!0,e.columns=D["i"],e.dataSource={listaRecords:G["b"],numeroPaginas:0,totalRecords:0},e.url="/evaluacion/",e.actions=[{icon:"fas fa-eye",type:D["d"].EDIT,method:e.editRiesgoNormativa}],t.next=39,e.listRiesgoNormativa();case 39:return t.abrupt("break",56);case 40:return e.isEvaluaciones=!0,e.columns=D["e"],e.dataSource={listaRecords:G["a"],numeroPaginas:0,totalRecords:0},e.url="/evaluacion/",t.next=46,Object(_["a"])();case 46:return e.userInfoJson=t.sent,e.userInfoJson.rol==D["q"].ANALISTA?(e.isAnalista=!0,e.actions=[{icon:"fas fa-trash-alt",type:D["d"].DELETE,method:e.delete},{icon:"fas fa-eye",type:D["d"].EDIT,method:e.editEvaluaciones}]):e.actions=[{icon:"fas fa-eye",type:D["d"].EDIT,method:e.editEvaluaciones}],t.next=50,e.listEvaluacion();case 50:return t.abrupt("break",56);case 51:return e.columns=D["g"],e.actions=[{icon:"fas fa-eye",type:D["d"].EDIT,method:e.editPlanTratamiento}],t.next=55,e.listPlanTratamiento();case 55:return t.abrupt("break",56);case 56:case"end":return t.stop()}}),t)})))()},methods:{changeFiltroListaVerificacion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.filtro_lista_verificacion=e,this.listEvaluacion()},changeFiltroEstado:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.filtro_estado_plan=e,this.listPlanTratamiento()},movePage:function(e){switch(this.page=e,this.type){case"PlanesTratamiento":this.listPlanTratamiento();break;case"Evaluacion":this.listEvaluacion();break;case"RiesgoNormativa":this.listRiesgoNormativa();break;case"ListasVerificacion":this.listListaVerificacion();break}},goBack:function(){this.$router.back()},selectedList:function(e){this.entityList=e},expandMain:function(e){this.expand=!e},handleError:function(){this.message=null},closeModal:function(){this.showModalConfirmation=!1},calculateReport:function(){if(!this.$route.params.type)switch(this.$route.path){case"/dashboard/listas-verificacion":this.type="ListasVerificacion";break}switch(this.type){case"PlanesTratamiento":return"PLANES DE TRATAMIENTO";case"RiesgoNormativa":return"CUMPLIMIENTO POR LISTA DE VERIFICACIÓN";case"Evaluacion":return"RESULTADOS DE EVALUACIONES";case"ListasVerificacion":return"LISTAS DE VERIFICACIÓN"}},editPlanTratamiento:function(e,t,a){this.$router.push(this.url+t)},deleteRiesgoNormativa:function(){console.log("deleteRiesgoNormativa")},editRiesgoNormativa:function(e,t,a){console.log("editRiesgoNormativa"),this.$router.push(this.url+t)},deleteEvaluaciones:function(){console.log("deleteEvaluaciones")},deleteMassive:function(){this.entityList.length>0?(this.massiveDelete=!0,this.showModalConfirmation=!0,this.modalTitle="Esta acción eliminara las dependencias de los items seleccionados,¿continuar?"):(this.message="Debe seleccionar al menos un item",this.error=!0),this.page=1},edit:function(e,t,a){this.$router.push("/dashboard/"+this.url+"/"+t)},delete:function(e,t,a){switch(this.id=e,this.type){case"PlanesTratamiento":this.modalTitle="¿Está seguro que desea eliminar el tratamiento ?";break;case"Evaluacion":this.modalTitle="¿Está seguro que desea eliminar la evaluación ?";break;case"ListasVerificacion":this.modalTitle="¿Está seguro que desea eliminar la lista de verificación?";break}this.entity=a,this.showModalConfirmation=!0,this.page=1},editEvaluaciones:function(e,t,a){console.log("editEvaluaciones"),this.$router.push(this.url+t)},confirmMassiveDelete:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log(e.type),t.t0=e.type,t.next="PlanesTratamiento"===t.t0?5:"Evaluacion"===t.t0?9:"ListasVerificacion"===t.t0?13:15;break;case 5:return console.log(e.entityList),t.next=8,Promise.all(e.entityList.map(function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(D["b"],"plantratamiento/").concat(t),{method:"DELETE",headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")})});case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()));case 8:return t.abrupt("break",15);case 9:return console.log(e.entityList),t.next=12,Promise.all(e.entityList.map(function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(D["b"],"evaluacion/").concat(t),{method:"DELETE",headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")})});case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()));case 12:return t.abrupt("break",15);case 13:return t.next=15,Promise.all(e.entityList.map(function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(D["b"],"listaverificaciones/").concat(t),{method:"DELETE",headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")})});case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()));case 15:e.massiveDelete=!1,e.showModalConfirmation=!1,e.modalTitle="",t.t1=e.type,t.next="PlanesTratamiento"===t.t1?21:"Evaluacion"===t.t1?23:"ListasVerificacion"===t.t1?25:27;break;case 21:return e.message="Los tratamientos  fueron eliminados",t.abrupt("break",27);case 23:return e.message="Las evaluaciones  fueron eliminadas",t.abrupt("break",27);case 25:return e.message="Las listas de verificación fueron eliminadas",t.abrupt("break",27);case 27:setTimeout(Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.t0=e.type,t.next="PlanesTratamiento"===t.t0?3:"Evaluacion"===t.t0?6:"ListasVerificacion"===t.t0?9:12;break;case 3:return t.next=5,e.listPlanTratamiento();case 5:return t.abrupt("break",12);case 6:return t.next=8,e.listEvaluacion();case 8:return t.abrupt("break",12);case 9:return t.next=11,e.listListaVerificacion();case 11:return t.abrupt("break",12);case 12:e.message=null;case 13:case"end":return t.stop()}}),t)}))),2e3);case 28:case"end":return t.stop()}}),t)})))()},listListaVerificacion:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(D["b"],"listaverificaciones/listar?page=").concat(e.page,"&quantity=").concat(e.quantity,"&listaVerif=").concat(e.filtro_listas_verificaciones),{method:"GET",headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")})});case 3:return a=t.sent,t.next=6,a.json();case 6:e.dataSource=t.sent,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},listPlanTratamiento:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(D["b"],"plantratamiento/lista?page=").concat(e.page,"&quantity=").concat(e.quantity,"&plan=").concat(e.filtro_plan,"&estadoPlan=").concat(e.filtro_estado_plan),{method:"GET",headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")})});case 3:return a=t.sent,t.next=6,a.json();case 6:e.dataSource=t.sent,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},listRiesgoNormativa:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(D["b"],"evaluacion/listado?page=").concat(e.page,"&quantity=").concat(e.quantity,"&obra=").concat(e.filtro_obra,"&listVerif=").concat(e.filtro_lista_verificacion,"&evaluacion=").concat(e.filtro_evaluacion),{method:"GET",headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")})});case 3:return a=t.sent,t.next=6,a.json();case 6:e.dataSource=t.sent,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},confirmDelete:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.closeModal(),t.t0=e.type,t.next="PlanesTratamiento"===t.t0?4:"Evaluacion"===t.t0?18:"ListasVerificacion"===t.t0?32:46;break;case 4:return t.prev=4,t.next=7,fetch("".concat(D["b"],"plantratamiento/").concat(e.id),{method:"DELETE",headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")})});case 7:t.sent,e.message="El tratamiento fue eliminado",e.id="",e.entity="",setTimeout(Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.listPlanTratamiento();case 2:e.message=null;case 3:case"end":return t.stop()}}),t)}))),2e3),t.next=17;break;case 14:t.prev=14,t.t1=t["catch"](4),console.log(t.t1);case 17:return t.abrupt("break",46);case 18:return t.prev=18,t.next=21,fetch("".concat(D["b"],"evaluacion/").concat(e.id),{method:"DELETE",headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")})});case 21:t.sent,e.message="La evaluación fue eliminada",e.id="",e.entity="",setTimeout(Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.listEvaluacion();case 2:e.message=null;case 3:case"end":return t.stop()}}),t)}))),2e3),t.next=31;break;case 28:t.prev=28,t.t2=t["catch"](18),console.log(t.t2);case 31:return t.abrupt("break",46);case 32:return t.prev=32,t.next=35,fetch("".concat(D["b"],"listaverificaciones/").concat(e.id),{method:"DELETE",headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")})});case 35:t.sent,e.message="La lista de verificación fue eliminada",e.id="",e.entity="",setTimeout(Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.listListaVerificacion();case 2:e.message=null;case 3:case"end":return t.stop()}}),t)}))),2e3),t.next=45;break;case 42:t.prev=42,t.t3=t["catch"](32),console.log(t.t3);case 45:return t.abrupt("break",46);case 46:case"end":return t.stop()}}),t,null,[[4,14],[18,28],[32,42]])})))()},listEvaluacion:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(D["b"],"evaluacion/listado?page=").concat(e.page,"&quantity=").concat(e.quantity,"&obra=").concat(e.filtro_obra,"&listVerif=").concat(e.filtro_lista_verificacion,"&evaluacion=").concat(e.filtro_evaluacion),{method:"GET",headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")})});case 3:return a=t.sent,console.log("this.dataSource"),console.log(e.dataSource),t.next=8,a.json();case 8:e.dataSource=t.sent,console.log("this.dataSource"),console.log(e.dataSource),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))()}}}),q=(a("a90b"),a("6b0d")),B=a.n(q);const $=B()(N,[["render",R],["__scopeId","data-v-6c666689"]]);t["default"]=$},"38b4":function(e,t,a){"use strict";a("1fb9")},"3e2f":function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"h",(function(){return r})),a.d(t,"g",(function(){return i})),a.d(t,"f",(function(){return o})),a.d(t,"i",(function(){return c})),a.d(t,"d",(function(){return s})),a.d(t,"c",(function(){return l})),a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return d}));var n=[{name:"Humedad mínima aceptable",data:[70,70,70,70,70,70,70,70,70,70,70,70]},{name:"Humedad real",data:[80,70,79,74,76,79,74,78,80,82,81,83]},{name:"Humedad máxima aceptable",data:[85,85,85,85,85,85,85,85,85,85,85,85]}],r=[{name:"Temperatura mínima aceptable",data:[17,17,17,17,17,17,17,17,17,17,17,17]},{name:"Temperatura real",data:[20,21,22,19,20,21,24,22,20,18,19,21]},{name:"Temperatura máxima aceptable",data:[24,24,24,24,24,24,24,24,24,24,24,24]}],i=[{name:"PH mínimo aceptable",data:[4,4,4,4,4,4,4,4,4,4,4,4]},{name:"PH real",data:[5,6,5.5,6.2,5.4,5.1,5.9,4.9,5.1,5.5,5.8,6.8]},{name:"PH máximo aceptable",data:[7,7,7,7,7,7,7,7,7,7,7,7]}],o=[{name:"Color mínimo aceptable",data:[510,510,510,510,510,510,510,510,510,510,510,510]},{name:"Color real",data:[530,520,550,560,565,545,555,540,535,560,550,550]},{name:"Color máximo aceptable",data:[570,570,570,570,570,570,570,570,570,570,570,570]}],c=[{data:[{x:"New Delhi",y:218},{x:"Kolkata",y:149},{x:"Mumbai",y:184},{x:"Ahmedabad",y:55},{x:"Bangaluru",y:84},{x:"Pune",y:31},{x:"Chennai",y:70},{x:"Jaipur",y:30},{x:"Surat",y:44},{x:"Hyderabad",y:68},{x:"Lucknow",y:28},{x:"Indore",y:19},{x:"Kanpur",y:29}]}],s={listaRecords:[],numeroPaginas:1,totalRecords:0},l=[{codigo:"TR001",fechaInicio:"05/06/2021",fechaFin:"11/06/2021",estado:"Solucionado",evaluacion:"EV001-Departamento Bohem",responsable:"Luis Quispe"},{codigo:"TR002",fechaInicio:"01/01/2021",fechaFin:"07/01/2021",estado:"Asignado",evaluacion:"EV002-Departamento Plaza 27",responsable:"Marcelo Lopez"}],u=[{codigo:"EV001",obra:"OB001-Departamento Bohem",nivelRiesgo:"Bajo",porcentajeCumplimiento:"30%",duracion:"12"},{codigo:"EV002",obra:"OB002-Departamento Plaza 27",nivelRiesgo:"Medio",porcentajeCumplimiento:"60%",duracion:"24"}],d=[{normativa:"29783",codigoEvaluacion:"EV001",evaluacion:"Evaluacion de elementos de seguridad",nivelRiesgo:"Medio",fechaCreacion:"15/05/2021"},{normativa:"ISO 45001",codigoEvaluacion:"EV002",evaluacion:"Evaluacion de elementos peligrosos",nivelRiesgo:"Bajo",fechaCreacion:"25/05/2021"}]},"408a":function(e,t,a){var n=a("e330");e.exports=n(1..valueOf)},5319:function(e,t,a){"use strict";var n=a("2ba4"),r=a("c65b"),i=a("e330"),o=a("d784"),c=a("d039"),s=a("825a"),l=a("1626"),u=a("5926"),d=a("50c4"),f=a("577e"),b=a("1d80"),m=a("8aa5"),p=a("dc4a"),h=a("0cb2"),v=a("14c3"),g=a("b622"),O=g("replace"),j=Math.max,y=Math.min,E=i([].concat),k=i([].push),x=i("".indexOf),w=i("".slice),T=function(e){return void 0===e?e:String(e)},S=function(){return"$0"==="a".replace(/./,"$0")}(),R=function(){return!!/./[O]&&""===/./[O]("a","$0")}(),I=!c((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));o("replace",(function(e,t,a){var i=R?"$":"$0";return[function(e,a){var n=b(this),i=void 0==e?void 0:p(e,O);return i?r(i,e,n,a):r(t,f(n),e,a)},function(e,r){var o=s(this),c=f(e);if("string"==typeof r&&-1===x(r,i)&&-1===x(r,"$<")){var b=a(t,o,c,r);if(b.done)return b.value}var p=l(r);p||(r=f(r));var g=o.global;if(g){var O=o.unicode;o.lastIndex=0}var S=[];while(1){var R=v(o,c);if(null===R)break;if(k(S,R),!g)break;var I=f(R[0]);""===I&&(o.lastIndex=m(c,d(o.lastIndex),O))}for(var L="",C=0,_=0;_<S.length;_++){R=S[_];for(var D=f(R[0]),P=j(y(u(R.index),c.length),0),V=[],A=1;A<R.length;A++)k(V,T(R[A]));var G=R.groups;if(p){var M=E([D],V,P,c);void 0!==G&&k(M,G);var N=f(n(r,void 0,M))}else N=h(D,c,P,V,G,r);P>=C&&(L+=w(c,C,P)+N,C=P+D.length)}return L+w(c,C)}]}),!I||!S||R)},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){var n=a("e330"),r=a("1d80"),i=a("577e"),o=a("5899"),c=n("".replace),s="["+o+"]",l=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),d=function(e){return function(t){var a=i(r(t));return 1&e&&(a=c(a,l,"")),2&e&&(a=c(a,u,"")),a}};e.exports={start:d(1),end:d(2),trim:d(3)}},"5ef3":function(e,t,a){},"682b":function(e,t,a){"use strict";function n(e){var t=new Date(e),a=Date.now()-t.getTime(),n=new Date(a);return Math.abs(n.getUTCFullYear()-1970)}a.d(t,"a",(function(){return n}))},7156:function(e,t,a){var n=a("1626"),r=a("861d"),i=a("d2bb");e.exports=function(e,t,a){var o,c;return i&&n(o=t.constructor)&&o!==a&&r(c=o.prototype)&&c!==a.prototype&&i(e,c),e}},"8aa5":function(e,t,a){"use strict";var n=a("6547").charAt;e.exports=function(e,t,a){return t+(a?n(e,t).length:1)}},"9fbc":function(e,t,a){"use strict";var n=a("7a23"),r=function(e){return Object(n["J"])("data-v-30baf8dd"),e=e(),Object(n["H"])(),e},i={class:"grid"},o={key:0},c={key:1},s={key:0},l=r((function(){return Object(n["m"])("br",null,null,-1)})),u={key:0},d={key:1,class:"no-data"},f={key:0},b=["id","value"],m={key:1},p=["onClick"],h={key:0},v=["onClick"];function g(e,t,a,r,g,O){var j,y,E;return Object(n["G"])(),Object(n["l"])(n["b"],null,[Object(n["m"])("table",i,[Object(n["m"])("thead",{class:Object(n["x"])(e.rowHeaderStyle?"".concat(e.rowHeaderStyle," header-grid"):"header-grid")},[Object(n["m"])("tr",null,[(null===(j=e.actions)||void 0===j?void 0:j.length)>0&&"delete"==e.actions[0].type&&e.dataSource.listaRecords.length>0?(Object(n["G"])(),Object(n["l"])("th",o,[Object(n["ab"])(Object(n["m"])("input",{type:"checkbox",id:"checkbox","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.massiveCheck=t})},null,512),[[n["S"],e.massiveCheck]])])):Object(n["k"])("",!0),(Object(n["G"])(!0),Object(n["l"])(n["b"],null,Object(n["M"])(e.columns,(function(e){return Object(n["G"])(),Object(n["l"])("th",{key:e.field,style:Object(n["y"])({textAlign:e.align?e.align:"left"})},Object(n["Q"])(e.title),5)})),128)),(null===(y=e.actions)||void 0===y?void 0:y.length)>0?(Object(n["G"])(),Object(n["l"])("th",c,"Acciones")):Object(n["k"])("",!0)])],2),e.dataSource.listaRecords&&0===(null===(E=e.dataSource.listaRecords)||void 0===E?void 0:E.length)?(Object(n["G"])(),Object(n["l"])("div",s,[l,e.rowBodyStyle?(Object(n["G"])(),Object(n["l"])("p",d,"Sin registros")):(Object(n["G"])(),Object(n["l"])("h3",u,"No hay datos registrados"))])):Object(n["k"])("",!0),Object(n["m"])("tbody",{class:Object(n["x"])(e.rowBodyStyle?e.rowBodyStyle:"")},[(Object(n["G"])(!0),Object(n["l"])(n["b"],null,Object(n["M"])(e.rows,(function(a,r){var i,o;return Object(n["G"])(),Object(n["l"])("tr",{key:a},[(null===(i=e.actions)||void 0===i?void 0:i.length)>0&&"delete"==e.actions[0].type&&e.dataSource.listaRecords.length>0?(Object(n["G"])(),Object(n["l"])("td",f,[e.dataSource.listaRecords&&e.dataSource.listaRecords[r]?Object(n["ab"])((Object(n["G"])(),Object(n["l"])("input",{key:0,type:"checkbox",id:e.dataSource.listaRecords[r].id,value:e.dataSource.listaRecords[r].id,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.checkedEntities=t})},null,8,b)),[[n["S"],e.checkedEntities]]):Object(n["k"])("",!0)])):Object(n["k"])("",!0),(Object(n["G"])(!0),Object(n["l"])(n["b"],null,Object(n["M"])(e.columns,(function(t){return Object(n["G"])(),Object(n["l"])("td",{key:t.field},[Object(n["m"])("p",{style:Object(n["y"])({textAlign:t.align?t.align:"left"})},Object(n["Q"])(e.getValue(t.field,e.dataSource.listaRecords,a-1,t.type)),5)])})),128)),(null===(o=e.actions)||void 0===o?void 0:o.length)>0?(Object(n["G"])(),Object(n["l"])("td",m,[(Object(n["G"])(!0),Object(n["l"])(n["b"],null,Object(n["M"])(e.actions,(function(t){return Object(n["G"])(),Object(n["l"])("span",{key:t.type},[e.dataSource.listaRecords[r]?(Object(n["G"])(),Object(n["l"])("i",{key:0,class:Object(n["x"])(t.icon),style:{"margin-left":"18px"},onClick:function(a){return t.method(e.dataSource.listaRecords[r].id,e.dataSource.listaRecords[r].codigo,e.dataSource.listaRecords[r].entity)}},null,10,p)):Object(n["k"])("",!0)])})),128))])):Object(n["k"])("",!0)])})),128))],2)]),e.dataSource.numeroPaginas>1?(Object(n["G"])(),Object(n["l"])("div",h,[(Object(n["G"])(!0),Object(n["l"])(n["b"],null,Object(n["M"])(e.dataSource.numeroPaginas,(function(t){return Object(n["G"])(),Object(n["l"])("div",{key:t,class:"pageButton",onClick:function(a){return e.goPage(t)}},Object(n["Q"])(t),9,v)})),128))])):Object(n["k"])("",!0)],64)}a("a9e3"),a("d81d");var O=a("682b"),j=a("5c40"),y=a("d4ec"),E=function e(t,a,n){Object(y["a"])(this,e),this.listaRecords=t,this.numeroPaginas=a,this.totalRecords=n},k=Object(j["s"])({props:{columns:{type:Array,required:!0},dataSource:{type:E,required:!0},config:{type:null,required:!1},actions:{type:null,required:!1,default:[]},method:{type:Function,required:!1},rows:{type:Number,required:!1,default:5},pages:{type:Number,required:!0},rowHeaderStyle:{type:String,required:!1},rowBodyStyle:{type:String,required:!1}},emits:["selectedList","movePage"],data:function(){return{massiveCheck:!1,checkedEntities:[]}},watch:{massiveCheck:function(){this.massiveCheck?this.checkedEntities=this.dataSource.listaRecords.map((function(e){return e.id})):this.checkedEntities=[]},checkedEntities:function(){this.$emit("selectedList",this.checkedEntities)}},methods:{goPage:function(e){this.$emit("movePage",e)},getValue:function(e,t,a,n){if(t)return t[a]?"fechaNacimiento"===e?Object(O["a"])(t[a][e]):"date"===n?new Date(t[a][e]).toLocaleDateString():t[a][e]:""}}}),x=(a("38b4"),a("6b0d")),w=a.n(x);const T=w()(k,[["render",g],["__scopeId","data-v-30baf8dd"]]);t["a"]=T},a90b:function(e,t,a){"use strict";a("fa23")},a9e3:function(e,t,a){"use strict";var n=a("83ab"),r=a("da84"),i=a("e330"),o=a("94ca"),c=a("6eeb"),s=a("1a2d"),l=a("7156"),u=a("3a9b"),d=a("d9b5"),f=a("c04e"),b=a("d039"),m=a("241c").f,p=a("06cf").f,h=a("9bf2").f,v=a("408a"),g=a("58a8").trim,O="Number",j=r[O],y=j.prototype,E=r.TypeError,k=i("".slice),x=i("".charCodeAt),w=function(e){var t=f(e,"number");return"bigint"==typeof t?t:T(t)},T=function(e){var t,a,n,r,i,o,c,s,l=f(e,"number");if(d(l))throw E("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=g(l),t=x(l,0),43===t||45===t){if(a=x(l,2),88===a||120===a)return NaN}else if(48===t){switch(x(l,1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+l}for(i=k(l,2),o=i.length,c=0;c<o;c++)if(s=x(i,c),s<48||s>r)return NaN;return parseInt(i,n)}return+l};if(o(O,!j(" 0o1")||!j("0b1")||j("+0x1"))){for(var S,R=function(e){var t=arguments.length<1?0:j(w(e)),a=this;return u(y,a)&&b((function(){v(a)}))?l(Object(t),a,R):t},I=n?m(j):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),L=0;I.length>L;L++)s(j,S=I[L])&&!s(R,S)&&h(R,S,p(j,S));R.prototype=y,y.constructor=R,c(r,O,R)}},aa14:function(e,t,a){"use strict";a("5ef3")},b7ff:function(e,t,a){"use strict";var n=a("7a23"),r=function(e){return Object(n["J"])("data-v-ea440b04"),e=e(),Object(n["H"])(),e},i={key:0,class:"modal"},o=r((function(){return Object(n["m"])("i",{class:"far fa-times-circle fa-2x"},null,-1)})),c={class:"flex-button"};function s(e,t,a,r,s,l){var u=Object(n["O"])("backdrop");return Object(n["G"])(),Object(n["l"])(n["b"],null,[Object(n["p"])(u,{show:e.show,onClose:e.tryClose,closable:!1},null,8,["show","onClose"]),e.show?(Object(n["G"])(),Object(n["l"])("div",i,[o,Object(n["m"])("p",null,Object(n["Q"])(e.title),1),Object(n["m"])("div",c,[Object(n["m"])("button",{onClick:t[0]||(t[0]=function(t){return e.confirm()}),class:"action-button"},"Aceptar"),Object(n["m"])("button",{style:{background:"var(--danger)"},onClick:t[1]||(t[1]=function(t){return e.cancel()}),class:"action-button"}," Cancelar ")])])):Object(n["k"])("",!0)],64)}var l=a("5c40"),u=a("c2de"),d=Object(l["s"])({components:{Backdrop:u["a"]},props:{show:{type:Boolean,required:!0},title:{type:String,required:!1},fixed:{type:Boolean,required:!1,default:!1},error:{type:Boolean,required:!0},loading:{type:Boolean,required:!0},massiveDelete:{type:Boolean,required:!1}},emits:["confirmMassive","close","confirm","cancel"],methods:{tryClose:function(){this.$emit("close")},confirm:function(){this.massiveDelete?this.$emit("confirmMassive"):this.$emit("confirm")},cancel:function(){this.$emit("cancel")}}}),f=(a("aa14"),a("6b0d")),b=a.n(f);const m=b()(d,[["render",s],["__scopeId","data-v-ea440b04"]]);t["a"]=m},d784:function(e,t,a){"use strict";a("ac1f");var n=a("e330"),r=a("6eeb"),i=a("9263"),o=a("d039"),c=a("b622"),s=a("9112"),l=c("species"),u=RegExp.prototype;e.exports=function(e,t,a,d){var f=c(e),b=!o((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),m=b&&!o((function(){var t=!1,a=/a/;return"split"===e&&(a={},a.constructor={},a.constructor[l]=function(){return a},a.flags="",a[f]=/./[f]),a.exec=function(){return t=!0,null},a[f](""),!t}));if(!b||!m||a){var p=n(/./[f]),h=t(f,""[e],(function(e,t,a,r,o){var c=n(e),s=t.exec;return s===i||s===u.exec?b&&!o?{done:!0,value:p(t,a,r)}:{done:!0,value:c(a,t,r)}:{done:!1}}));r(String.prototype,e,h[0]),r(u,f,h[1])}d&&s(u[f],"sham",!0)}},d81d:function(e,t,a){"use strict";var n=a("23e7"),r=a("b727").map,i=a("1dde"),o=i("map");n({target:"Array",proto:!0,forced:!o},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},f50d:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("1da1"),r=(a("96cf"),a("d3b7"),a("2fc2"));function i(){return o.apply(this,arguments)}function o(){return o=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(r["b"],"usuario"),{method:"GET",headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")})});case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)}},fa23:function(e,t,a){}}]);
//# sourceMappingURL=chunk-2aded0a4.c21bfc05.js.map